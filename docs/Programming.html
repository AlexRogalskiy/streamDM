<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>StreamDM Programming Guide &#8211; streamDM</title>





<!-- Twitter Cards -->
<meta name="twitter:title" content="StreamDM Programming Guide">




<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://huawei-noah.github.io/streamDM/images/screen_network.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="StreamDM Programming Guide">

<meta property="og:url" content="http://huawei-noah.github.io/streamDM/docs/Programming.html">
<meta property="og:site_name" content="streamDM">





<link rel="canonical" href="http://huawei-noah.github.io/streamDM/docs/Programming.html">
<link href="http://huawei-noah.github.io/streamDM/feed.xml" type="application/atom+xml" rel="alternate" title="streamDM Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://huawei-noah.github.io/streamDM/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://huawei-noah.github.io/streamDM/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://huawei-noah.github.io/streamDM/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://huawei-noah.github.io/streamDM/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://huawei-noah.github.io/streamDM/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://huawei-noah.github.io/streamDM/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://huawei-noah.github.io/streamDM/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://huawei-noah.github.io/streamDM/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://huawei-noah.github.io/streamDM/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://huawei-noah.github.io/streamDM/images/apple-touch-icon-144x144-precomposed.png">

<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

<body id="page">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="http://huawei-noah.github.io/streamDM/" >About</a></li>
		  
		    
		        
		        
		    <li><a href="https://github.com/huawei-noah/streamDM" target="_blank">Github</a></li>
		  
		    
		        
		    
		    <li><a href="http://huawei-noah.github.io/streamDM/docs/GettingStarted.html" >Getting Started</a></li>
		  
		    
		        
		    
		    <li><a href="http://huawei-noah.github.io/streamDM/index.html#methods" >Methods</a></li>
		  
		    
		        
		    
		    <li><a href="http://huawei-noah.github.io/streamDM/docs/Programming.html" >Programming Guide</a></li>
		  
		    
		        
		    
		    <li><a href="http://huawei-noah.github.io/streamDM/docs/Contributors.html" >Contributors</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	
		<div class="wrap">
			<a href="http://huawei-noah.github.io/streamDM/" class="site-logo" rel="home" title="streamDM"><img src="http://huawei-noah.github.io/streamDM/images/site-logo.png" width="200" height="200" alt="streamDM logo" class="animated fadeInDown"></a>
		</div>
	
</header><!-- /.masthead -->


<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="entry">
    <img src="http://huawei-noah.github.io/streamDM/images/screen_network.png" class="entry-feature-image" alt="StreamDM Programming Guide" >
    <div class="entry-wrapper">
      <header class="entry-header">
        <h1 class="entry-title">StreamDM Programming Guide</h1>
      </header>
      <div class="entry-content">
        <p>Everything in StreamDM is designed around tasks, which describe the flow of a
streaming data mining or machine learning algorithm. In a
nutshell, streaming data is read and parsed into the StreamDM internal
representation, passed through learners, evaluated and then output to various
places, such as console, files, or as streams for other tasks. </p>

<h2 id="basic-data-structure">Basic Data Structure</h2>

<p>StreamDM processes multi-dimensional vectors, called <em>instances</em>, which are
implemented as classes derived from a general class <code>Instance</code>. Depending on the
implementations of the underlying data structures, and <code>Instance</code> can be:</p>

<table><thead>
<tr>
<th><strong>Instance Type</strong></th>
<th><strong>Data Structure</strong></th>
<th><strong>Format</strong></th>
</tr>
</thead><tbody>
<tr>
<td><code>DenseInstance</code></td>
<td>array of <code>Double</code></td>
<td><code>val1,val2,...,valn</code></td>
</tr>
<tr>
<td><code>SparseInstance</code></td>
<td>two arrays: one for indexes, one for values</td>
<td><code>idx1:val1,idx2:val2,...</code></td>
</tr>
<tr>
<td><code>TextInstance</code></td>
<td>map of key-value tuples; allows non-numeric keys</td>
<td><code>key1:val1,key2:val2,...</code></td>
</tr>
<tr>
<td><code>NullInstance</code></td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody></table>

<p><code>Instance</code> provides useful operations for use in a <code>Learner</code>, such as the
<code>dot</code> and <code>distanceTo</code> operations, but also <code>map</code> and <code>reduce</code> operations. Note
that an <code>Instance</code> is always immutable; every operation returns a new <code>Instance</code>
with the modifications. For full details, please refer to the <code>Instance</code>
specification in the API documentation.</p>

<p>The input/output data structure which is sent via <code>DStream</code> is the <code>Example</code>.
This data structure  wraps input and output instances, along with a number
representing its weight. The class signature is specified as:</p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">Example</span><span class="o">(</span><span class="n">inInstance</span><span class="k">:</span> <span class="kt">Instance</span><span class="o">,</span> <span class="n">outInstance</span><span class="k">:</span> <span class="kt">Instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">NullInstance</span><span class="o">,</span> 
              <span class="n">weightValue</span><span class="k">:</span> <span class="kt">Double</span><span class="o">=</span><span class="mf">1.0</span><span class="o">)</span> 
</code></pre></div>
<p>Its format is the following (note that weight and the output instance are
optional):</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;input_instance&gt; [&lt;output_instance&gt;] [&lt;weight&gt;]  
</code></pre></div>
<p>The <code>Example.parse</code> method allows StreamDM to create objects of type <code>Example</code>
from text lines in the stream.</p>

<p>By default, every value in each instance is a Double. In cases where the values
have different types of values (for example, discrete integers) a helper data
structure <code>ExampleSpecification</code> is used. </p>

<p>An <code>ExampleSpecification</code> is used in special cases: classifiers such as decision
trees and Naive Bayes, which need to know the type of each feature in the
instance. In the current implementation, we support two types of features,
numeric and discrete. Numeric values are the default, and discrete features are
strings (such as colors <em>Red</em>, <em>Green</em>, <em>Blue</em>, etc.) which are internally
represented as doubles, for space efficiency and compatibility with the
<code>Instance</code> classes.</p>

<p>This information is stored in an <code>ExampleSpecification</code> object, which, similarly
to <code>Example</code>, contains two <code>InstanceSpecification</code> objects for the input and
output instances. Each <code>InstanceSpecification</code> stores the name of the features,
and, for the discrete features, their original string descriptions in an
associated <code>FeatureSpecification</code> object.</p>

<h2 id="task-building-blocks">Task Building Blocks</h2>

<p>A <code>Task</code> is a sequential algorithm which is tasked with connecting to a
<code>StreamingContext</code> and with processing sequential operations. This is performed
by using some building blocks, which are generally classes derived from the
following base classes:</p>

<table><thead>
<tr>
<th><strong>Base Class</strong></th>
<th><strong>Purpose</strong></th>
</tr>
</thead><tbody>
<tr>
<td><code>StreamReader</code></td>
<td>read and parse <code>Example</code> and create a stream</td>
</tr>
<tr>
<td><code>Learner</code></td>
<td>provides the <code>train</code> method from an input stream</td>
</tr>
<tr>
<td><code>Model</code></td>
<td>data structure and set of methods used for <code>Learner</code></td>
</tr>
<tr>
<td><code>Evaluator</code></td>
<td>evaluation of predictions</td>
</tr>
<tr>
<td><code>StreamWriter</code></td>
<td>output of streams</td>
</tr>
</tbody></table>

<p>The base classes above can also be extended for more specific use cases. For
instance, <code>Learner</code> is currently extended to <code>Classifier</code>, which provides a
<code>predict</code> method, and a <code>Clusterer</code>, which provides an <code>assign</code> method.</p>

<p>A <code>Task</code> will also contain a set of options, which use the
<a href="https://github.com/abifet/javacliparser/">JavaCLIParser</a> library. These options
allow to specify what types of learners, evaluators, writers, and readers are to
be used, at <em>runtime</em>, without the need to re-compile the task.</p>

<p>An illustration on how a <code>Task</code> can be programmed by using a combination of the
above building block is the <code>EvaluatePrequential</code> example task, present in the
source code of StreamDM.</p>

<h3 id="case-study:-evaluateprequential">Case Study: EvaluatePrequential</h3>

<p>Consider the (artificial) stream binary classification scenario, where
the stream consists of a stream of single label instances. The objective is to
first predict the instance using the current linear model, and then train (and
update) the model using the true label. The evaluation will be based on the
difference between the predicted label and the true label. The code listing of
the resulting <code>EvaluatePrequential</code> is:</p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">EvaluatePrequential</span> <span class="k">extends</span> <span class="nc">Task</span> <span class="o">{</span>
  <span class="c1">//Task options</span>
  <span class="k">val</span> <span class="n">learnerOption</span><span class="k">:</span><span class="kt">ClassOption</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassOption</span><span class="o">(</span><span class="s">&quot;learner&quot;</span><span class="o">,</span> <span class="-Symbol">&#39;l</span><span class="err">&#39;</span><span class="o">,</span>
    <span class="s">&quot;Learner to use&quot;</span><span class="o">,</span> <span class="n">classOf</span><span class="o">[</span><span class="kt">Classifier</span><span class="o">],</span> <span class="s">&quot;SGDLearner&quot;</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">evaluatorOption</span><span class="k">:</span><span class="kt">ClassOption</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassOption</span><span class="o">(</span><span class="s">&quot;evaluator&quot;</span><span class="o">,</span> <span class="-Symbol">&#39;e</span><span class="err">&#39;</span><span class="o">,</span>
    <span class="s">&quot;Evaluator to use&quot;</span><span class="o">,</span> <span class="n">classOf</span><span class="o">[</span><span class="kt">Evaluator</span><span class="o">],</span> <span class="s">&quot;BasicClassificationEvaluator&quot;</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">streamReaderOption</span><span class="k">:</span><span class="kt">ClassOption</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassOption</span><span class="o">(</span><span class="s">&quot;streamReader&quot;</span><span class="o">,</span> <span class="-Symbol">&#39;s</span><span class="err">&#39;</span><span class="o">,</span>
    <span class="s">&quot;Stream reader to use&quot;</span><span class="o">,</span> <span class="n">classOf</span><span class="o">[</span><span class="kt">StreamReader</span><span class="o">],</span> <span class="s">&quot;SocketTextStreamReader&quot;</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">resultsWriterOption</span><span class="k">:</span><span class="kt">ClassOption</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassOption</span><span class="o">(</span><span class="s">&quot;resultsWriter&quot;</span><span class="o">,</span> <span class="-Symbol">&#39;w</span><span class="err">&#39;</span><span class="o">,</span>
    <span class="s">&quot;Stream writer to use&quot;</span><span class="o">,</span> <span class="n">classOf</span><span class="o">[</span><span class="kt">StreamWriter</span><span class="o">],</span> <span class="s">&quot;PrintStreamWriter&quot;</span><span class="o">)</span>

  <span class="c1">//Run the task</span>
  <span class="k">def</span> <span class="n">run</span><span class="o">(</span><span class="n">ssc</span><span class="k">:</span><span class="kt">StreamingContext</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="c1">//Parse options and init</span>
    <span class="k">val</span> <span class="n">reader</span><span class="k">:</span><span class="kt">StreamReader</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">streamReaderOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>
    <span class="k">val</span> <span class="n">learner</span><span class="k">:</span><span class="kt">SGDLearner</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">learnerOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>
    <span class="n">learner</span><span class="o">.</span><span class="n">init</span><span class="o">(</span><span class="n">reader</span><span class="o">.</span><span class="n">getExampleSpecification</span><span class="o">())</span>
    <span class="k">val</span> <span class="n">evaluator</span><span class="k">:</span><span class="kt">Evaluator</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">evaluatorOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>
    <span class="k">val</span> <span class="n">writer</span><span class="k">:</span><span class="kt">StreamWriter</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">resultsWriterOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>

    <span class="c1">//Parse stream and get Examples</span>
    <span class="k">val</span> <span class="n">instances</span> <span class="k">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">getExamples</span><span class="o">(</span><span class="n">ssc</span><span class="o">)</span>
    <span class="c1">//Predict</span>
    <span class="k">val</span> <span class="n">predPairs</span> <span class="k">=</span> <span class="n">learner</span><span class="o">.</span><span class="n">predict</span><span class="o">(</span><span class="n">instances</span><span class="o">)</span>
    <span class="c1">//Train</span>
    <span class="n">learner</span><span class="o">.</span><span class="n">train</span><span class="o">(</span><span class="n">instances</span><span class="o">)</span>
    <span class="c1">//Evaluate and output</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">output</span><span class="o">(</span><span class="n">evaluator</span><span class="o">.</span><span class="n">addResult</span><span class="o">(</span><span class="n">predPairs</span><span class="o">))</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>First, <code>EvaluatePrequential</code> is created by extending <code>Task</code> and implementing its
<code>run</code> method. <code>run</code> takes a <code>StreamingContext</code> as an argument, and its
objective is to process the streams in this context.</p>

<p>The first step is the processing of the options:</p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala">    <span class="k">val</span> <span class="n">reader</span><span class="k">:</span><span class="kt">StreamReader</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">streamReaderOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>
    <span class="k">val</span> <span class="n">learner</span><span class="k">:</span><span class="kt">SGDLearner</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">learnerOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>
    <span class="n">learner</span><span class="o">.</span><span class="n">init</span><span class="o">(</span><span class="n">reader</span><span class="o">.</span><span class="n">getExampleSpecification</span><span class="o">())</span>
    <span class="k">val</span> <span class="n">evaluator</span><span class="k">:</span><span class="kt">Evaluator</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">evaluatorOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>
    <span class="k">val</span> <span class="n">writer</span><span class="k">:</span><span class="kt">StreamWriter</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="n">resultsWriterOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">()</span>
</code></pre></div>
<p>Options specify the classes used for each of the components of a task; in this
case, the type of stream reader, the learner, the evaluator, and the stream
output. In addition, each class used, e.g., <code>SGDLearner</code>, can also have options,
such as the parameters needed for the algorithms. Then, for example, an
<code>EvaluatePrequential</code> parsing sparse instances and using SGD with a learning
rate of 0.001 and using hinge loss will use the command line options:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  EvaluatePrequential -s (SocketTextStreamReader -t sparse) -l 
    (SGDLearner -l 0.001 )
</code></pre></div>
<p>Then, the instances get parsed by the reader:</p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala">    <span class="k">val</span> <span class="n">instances</span> <span class="k">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">getExamples</span><span class="o">(</span><span class="n">ssc</span><span class="o">)</span>
</code></pre></div>
<p>After the parsing, the evaluate first then train cycle is performed. In this
case, our learner is restricted to a <code>Classifier</code> so that the method <code>predict</code>
is available:</p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala">  <span class="c1">//Predict</span>
  <span class="k">val</span> <span class="n">predPairs</span> <span class="k">=</span> <span class="n">learner</span><span class="o">.</span><span class="n">predict</span><span class="o">(</span><span class="n">instances</span><span class="o">)</span>
  <span class="c1">//Train</span>
  <span class="n">learner</span><span class="o">.</span><span class="n">train</span><span class="o">(</span><span class="n">instances</span><span class="o">)</span>
</code></pre></div>
<p>Finally, the results are output. Here, the evaluator output is combined with the
final output:</p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala">  <span class="n">writer</span><span class="o">.</span><span class="n">output</span><span class="o">(</span><span class="n">evaluator</span><span class="o">.</span><span class="n">addResult</span><span class="o">(</span><span class="n">predPairs</span><span class="o">))</span>
</code></pre></div>
<h2 id="extending-streamdm">Extending StreamDM</h2>

<p>StreamDM is designed to be easily extensible. Its purpose is to allow both users
to run it, but also developers of real-world machine learning workflows to
easily program task which are more complicated or even contain multiple layers
of learning and evaluation, and researchers to easily include new learner
algorithms in Spark Streaming.</p>

<h3 id="adding-tasks">Adding Tasks</h3>

<p>To define a new task, we have to extend <code>Task</code> and implement its <code>run</code> method.
We illustrate on an example of a task which writes a string to the console: </p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">HelloWorldTask</span> <span class="k">extends</span> <span class="nc">Task</span> <span class="o">{</span>

  <span class="k">val</span> <span class="n">textOption</span><span class="k">:</span><span class="kt">StringOption</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringOption</span><span class="o">(</span><span class="s">&quot;text&quot;</span><span class="o">,</span> <span class="-Symbol">&#39;t</span><span class="err">&#39;</span><span class="o">,</span>
    <span class="s">&quot;Text to print&quot;</span><span class="o">,</span> <span class="s">&quot;Hello, World!&quot;</span><span class="o">)</span>

  <span class="k">def</span> <span class="n">run</span><span class="o">(</span><span class="n">ssc</span><span class="k">:</span><span class="kt">StreamingContext</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">print</span> <span class="o">(</span><span class="n">textOption</span><span class="o">.</span><span class="n">getValue</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div>
<p>To specify the text to print, we can use a <code>StringOption</code>, and then pass it from
the command line: </p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">./spark <span class="s2">&quot;HelloWorldTask -t Bye&quot;</span>
</code></pre></div>
<p>As a general note, tasks like <code>EvaluatePrequential</code> allow to test any learner
which inherits <code>Classifier</code> - there is no need to create a task for each
classifier implemented and tested. In general, tasks should be designed so that
they allow as many options as possible at runtime without the need to compile.</p>

<h2 id="adding-learners">Adding Learners</h2>

<p>To add a new learner, we only need to implement the <code>Learner</code> trait and
implement its associated methods: <code>init</code> for initializing the <code>Model</code> inside the
learner, and <code>train</code> for updating the model with the data from the stream. If
the requirements for the learner are more specific, specialized traits need to
be implemented instead. For example, the <code>Classifier</code> trait also contains a
<code>predict</code> methods which applies the model to a stream:</p>
<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">trait</span> <span class="nc">Classifier</span> <span class="k">extends</span> <span class="nc">Learner</span> <span class="k">with</span> <span class="nc">Serializable</span> <span class="o">{</span>

  <span class="cm">/* Predict the label of the Example stream, given the current Model</span>
<span class="cm">   *</span>
<span class="cm">   * @param instance the input Example stream </span>
<span class="cm">   * @return a stream of tuples containing the original instance and the</span>
<span class="cm">   * predicted value</span>
<span class="cm">   */</span>
  <span class="k">def</span> <span class="n">predict</span><span class="o">(</span><span class="n">input</span><span class="k">:</span> <span class="kt">DStream</span><span class="o">[</span><span class="kt">Example</span><span class="o">])</span><span class="k">:</span> <span class="kt">DStream</span><span class="o">[(</span><span class="kt">Example</span>, <span class="kt">Double</span><span class="o">)]</span>
<span class="o">}</span>

<span class="k">trait</span> <span class="nc">Learner</span> <span class="k">extends</span> <span class="nc">Configurable</span>  <span class="k">with</span> <span class="nc">Serializable</span> <span class="o">{</span>

  <span class="k">type</span> <span class="kt">T</span> <span class="k">&lt;:</span> <span class="kt">Model</span>

  <span class="cm">/**</span>
<span class="cm">   * Init the model based on the algorithm implemented in the learner.</span>
<span class="cm">   *</span>
<span class="cm">   * @param exampleSpecification the ExampleSpecification of the input stream.</span>
<span class="cm">   */</span>
  <span class="k">def</span> <span class="n">init</span><span class="o">(</span><span class="n">exampleSpecification</span><span class="k">:</span> <span class="kt">ExampleSpecification</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span>

  <span class="cm">/** </span>
<span class="cm">   * Train the model based on the algorithm implemented in the learner, </span>
<span class="cm">   * from the stream of Examples given for training.</span>
<span class="cm">   * </span>
<span class="cm">   * @param input a stream of Examples</span>
<span class="cm">   */</span>
  <span class="k">def</span> <span class="n">train</span><span class="o">(</span><span class="n">input</span><span class="k">:</span> <span class="kt">DStream</span><span class="o">[</span><span class="kt">Example</span><span class="o">])</span><span class="k">:</span> <span class="kt">Unit</span>

  <span class="cm">/**</span>
<span class="cm">   * Gets the current Model used for the Learner.</span>
<span class="cm">   * </span>
<span class="cm">   * @return the Model object used for training</span>
<span class="cm">   */</span>
  <span class="k">def</span> <span class="n">getModel</span><span class="k">:</span> <span class="kt">T</span>
<span class="o">}</span>
</code></pre></div>
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2016 HUAWEI Noah's Ark Lab.</span>
<div class="social-icons">
	
	
	
	
	
	
	
	
	
  
	
  <a href="http://huawei-noah.github.io/streamDM/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://huawei-noah.github.io/streamDM';
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://huawei-noah.github.io/streamDM/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://huawei-noah.github.io/streamDM/assets/js/scripts.min.js"></script>




</body>
</html>
